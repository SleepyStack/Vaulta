{"openapi":"3.1.0","info":{"title":"Vaulta Bank API","version":"v1"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"security":[{"bearerAuth":[]}],"paths":{"/api/v1/transactions/withdraw":{"post":{"tags":["transaction-controller"],"operationId":"withdraw","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v1/transactions/transfer":{"post":{"tags":["transaction-controller"],"operationId":"transfer","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v1/transactions/deposit":{"post":{"tags":["transaction-controller"],"operationId":"deposit","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v1/auth/register":{"post":{"tags":["auth-controller"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegistrationDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponseDTO"}}}}}}},"/api/v1/auth/login":{"post":{"tags":["auth-controller"],"operationId":"authenticate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthRequestDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponseDTO"}}}}}}},"/api/v1/admin/users/{userId}/reset-password":{"post":{"tags":["admin-controller"],"operationId":"resetPassword","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminForcePassResetDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v1/admin/users/{userId}/promote":{"post":{"tags":["admin-controller"],"operationId":"promoteUser","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v1/accounts/open":{"post":{"tags":["account-controller"],"operationId":"openAccount","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountRequestDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AccountResponseDTO"}}}}}}},"/api/v1/users/change-password":{"patch":{"tags":["user-controller"],"operationId":"changePassword","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPassDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v1/admin/users/{userId}/status":{"patch":{"tags":["admin-controller"],"operationId":"updateUserStatus","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"newStatus","in":"query","required":true,"schema":{"type":"string","enum":["ACTIVE","INACTIVE","FROZEN","CLOSED"]}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v1/admin/accounts/{accountNumber}/status":{"patch":{"tags":["admin-controller"],"operationId":"updateAccountStatus","parameters":[{"name":"accountNumber","in":"path","required":true,"schema":{"type":"string"}},{"name":"newStatus","in":"query","required":true,"schema":{"type":"string","enum":["ACTIVE","INACTIVE","FROZEN","CLOSED"]}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v1/transactions/{accountNumber}/history":{"get":{"tags":["transaction-controller"],"operationId":"getTransactionHistory","parameters":[{"name":"accountNumber","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TransactionResponseDTO"}}}}}}}},"/api/v1/admin/users":{"get":{"tags":["admin-controller"],"operationId":"getAllUsers","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponseAdminDTO"}}}}}}}},"/api/v1/admin/transactions":{"get":{"tags":["admin-controller"],"operationId":"getGlobalTransactionHistory","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TransactionResponseDTO"}}}}}}}},"/api/v1/admin/accounts":{"get":{"tags":["admin-controller"],"operationId":"getAllAccounts","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AccountResponseDTO"}}}}}}}},"/api/v1/accounts/{accountNumber}":{"get":{"tags":["account-controller"],"operationId":"getAccount","parameters":[{"name":"accountNumber","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AccountResponseDTO"}}}}}},"delete":{"tags":["account-controller"],"operationId":"closeAccount","parameters":[{"name":"accountNumber","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/api/v1/accounts/me":{"get":{"tags":["account-controller"],"operationId":"getMyAccounts","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AccountResponseDTO"}}}}}}}},"/api/v1/users/{id}":{"delete":{"tags":["user-controller"],"operationId":"deleteUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}}},"components":{"schemas":{"TransactionDTO":{"type":"object","properties":{"accountNumber":{"type":"string","minLength":1},"targetAccountNumber":{"type":"string"},"amount":{"type":"number"}},"required":["accountNumber","amount"]},"UserRegistrationDTO":{"type":"object","properties":{"username":{"type":"string","minLength":1},"email":{"type":"string","format":"email","minLength":1},"password":{"type":"string","maxLength":2147483647,"minLength":8}},"required":["email","password","username"]},"AuthResponseDTO":{"type":"object","properties":{"token":{"type":"string"}}},"AuthRequestDTO":{"type":"object","properties":{"email":{"type":"string","format":"email","minLength":1},"password":{"type":"string","minLength":1}},"required":["email","password"]},"AdminForcePassResetDTO":{"type":"object","properties":{"tempPassword":{"type":"string","maxLength":2147483647,"minLength":8}},"required":["tempPassword"]},"AccountRequestDTO":{"type":"object","properties":{"accountType":{"type":"string","enum":["SAVINGS","CHECKING"]},"initialDeposit":{"type":"number"}},"required":["accountType"]},"AccountResponseDTO":{"type":"object","properties":{"accountNumber":{"type":"string"},"accountType":{"type":"string","enum":["SAVINGS","CHECKING"]},"balance":{"type":"number"},"username":{"type":"string"}}},"ResetPassDTO":{"type":"object","properties":{"oldPassword":{"type":"string","minLength":1},"newPassword":{"type":"string","maxLength":2147483647,"minLength":8}},"required":["newPassword","oldPassword"]},"TransactionResponseDTO":{"type":"object","properties":{"type":{"type":"string"},"amount":{"type":"number"},"fromAccount":{"type":"string"},"toAccount":{"type":"string"},"timestamp":{"type":"string","format":"date-time"}}},"UserResponseAdminDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"},"email":{"type":"string"},"status":{"type":"string","enum":["ACTIVE","INACTIVE","FROZEN","CLOSED"]},"role":{"type":"string","enum":["USER","ADMIN"]}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}